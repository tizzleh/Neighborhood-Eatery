(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){e.exports=n(49)},24:function(e,t,n){},28:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(18),i=n.n(r),s=(n(24),n(8)),c=n.n(s),l=n(10),u=n(3),d=n(4),p=n(6),m=n(5),h=n(7),f=n(2),v=(n(28),n(11)),g=n.n(v),w=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{id:"map-container"},o.a.createElement("div",{id:"map",role:"application"}))}}]),t}(a.Component),b=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(p.a)(this,Object(m.a)(t).call(this))).searchVenue=function(t){var n=t.target.value.toLowerCase(),a=e.props.listedMarker,o=[];a.forEach(function(e){e.title.toLowerCase().indexOf(n.toLowerCase())>=0?(e.setVisible(!0),o.push(e)):e.setVisible(!1)}),e.setState({markers:o})},e.state={info:"",markers:[],query:""},e.refreshList=e.refreshList.bind(Object(f.a)(Object(f.a)(e))),e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.refreshList()}},{key:"refreshList",value:function(){this.setState({markers:this.props.listedMarker})}},{key:"openMarker",value:function(e){this.props.openInfo(e)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"app"},o.a.createElement("div",{className:"search"},o.a.createElement("div",{className:"form",role:"form"},o.a.createElement("label",{htmlFor:"search"},"Search:"),o.a.createElement("input",{id:"search",type:"text","aria-label":"search",placeholder:"Search...",className:"input",role:"search",onChange:this.searchVenue}),o.a.createElement("label",{htmlFor:"search"})),o.a.createElement("ul",null,this.state.markers&&this.state.markers.length&&this.state.markers.map(function(t,n){return o.a.createElement("li",{key:n},o.a.createElement("a",{href:e.props.infowindow,onKeyPress:e.props.infowindow,onClick:e.props.infowindow,tabIndex:"0",role:"button"},t.title))}))))}}]),t}(a.Component);var k=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).renderMap=function(){!function(e){var t=window.document.getElementsByTagName("script")[0],n=window.document.createElement("script");n.src=e,n.async=!0,n.onerror=function(){document.write("Google Maps can't be loaded. Please reload the page, and if that doesn't work reload the page. Otherwise reload page.")},t.parentNode.insertBefore(n,t)}("https://maps.googleapis.com/maps/api/js?key=AIzaSyAdlFJbHfXSdxy03hESWwqCu5z5xzEfCTw&callback=initMap"),window.initMap=n.initMap},n.getVenues=Object(l.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("https://api.foursquare.com/v2/venues/explore?client_id=YCMGPBOPZCPOG4QYVXZ4ETGY5TLVNO34BGYAZ1NNKA3T44KS&client_secret=EKIC4ZUG3DJJGATRLZA2WO1W3X5L204BHM0XG2RE5IGP0GK5&query=food&near=Albuquerque&v=20180903");case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),window.alert("".concat(e.t0,", can't connect to foursquare"));case 9:case"end":return e.stop()}},e,this,[[0,6]])})),n.stateSet=Object(l.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getVenues();case 2:(t=e.sent)&&n.setState({venues:t.data.response.groups[0].items},n.renderMap());case 4:case"end":return e.stop()}},e,this)})),n.getVenuesOLD=function(){var e={client_id:n.state.client_id,client_secret:n.state.client_secret,query:n.state.querySelector,near:"Albuquerque",v:"20180903"};g.a.get("https://api.foursquare.com/v2/venues/explore?"+new URLSearchParams(e)).then(function(e){n.setState({venues:e.data.response.groups[0].items},n.renderMap())}).catch(function(e){window.alert("".concat(e,", can't connect to foursquare"))})},n.pause=function(e,t){setTimeout(function(){e.target.style.color=t},1500)},n.onclickLocation=function(){var e=Object(f.a)(Object(f.a)(n));document.querySelector(".search").addEventListener("click",function(t){for(var n=0;n<e.state.listedMarkers.length;n++)e.state.listedMarkers[n].title.toLowerCase()===t.target.innerText.toLowerCase()&&function(){var a={lat:e.state.venues[n].venue.location.lat,lng:e.state.venues[n].venue.location.lng};e.setState({center:a});var o=new window.google.maps.LatLng(a);e.state.map.setCenter(o);var r=e.state.venues[n].venue.location.address+", \n "+e.state.venues[n].venue.name;e.state.info.setContent(r),e.state.info.open(e.state.map,e.state.listedMarkers[n]);var i=t.target.style.color;t.target.style.color="aliceBlue",setTimeout(function(){t.target.style.color=i},1500);var s=e.state.listedMarkers[n];s.setAnimation(window.google.maps.Animation.BOUNCE),setTimeout(function(){s.setAnimation(null)},1500)}()})},n.toggleNavBar=function(){var e=document.querySelector(".side"),t=document.querySelector("#map");"none"===e.style.display?e.style.display="block":(e.style.display="none",t.style.width="100%")},n.state={center:{lat:35.0844,lng:-106.6504},zoom:13,map:"",info:"",venues:[],listedMarkers:[],highlightedIcon:null,querySelector:"food",client_id:"YCMGPBOPZCPOG4QYVXZ4ETGY5TLVNO34BGYAZ1NNKA3T44KS",client_secret:"EKIC4ZUG3DJJGATRLZA2WO1W3X5L204BHM0XG2RE5IGP0GK5"},n.initMap=n.initMap.bind(Object(f.a)(Object(f.a)(n))),n.onclickLocation=n.onclickLocation.bind(Object(f.a)(Object(f.a)(n))),n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"gm_authFailure",value:function(){window.alert("Google Maps error!")}},{key:"componentDidMount",value:function(){window.gm_authFailure=this.gm_authFailure,this.stateSet(),this.onclickLocation()}},{key:"initMap",value:function(){var e,t=this;e=new window.google.maps.Map(document.getElementById("map"),{zoom:this.state.zoom,center:this.state.center});var n=new window.google.maps.InfoWindow({});this.setState({map:e,info:n}),this.state.venues.forEach(function(a){var o="".concat(a.venue.name," , ").concat(a.venue.location.address),r={lat:a.venue.location.lat,lng:a.venue.location.lng},i=new window.google.maps.Marker({position:r,map:e,title:a.venue.name,icon:"https://maps.google.com/mapfiles/kml/shapes/dining.png"});i.addListener("click",function(){i.setAnimation(window.google.maps.Animation.BOUNCE,1e3),setTimeout(function(){i.setAnimation(null)},1500),n.setContent(o),n.open(e,i);var t=new window.google.maps.LatLng(r);e.setCenter(t)});var s=t.state.listedMarkers;s.includes(i)||s.push(i),t.setState({listedMarkers:s})})}},{key:"render",value:function(){var e=". You are searching for  "+this.state.querySelector+" venues";return o.a.createElement("div",{className:"app"},o.a.createElement("header",null,o.a.createElement("button",{"aria-label":"hide-sidebar",type:"button",className:"navbar-toggle collapsed","data-toggle":"collapse",onClick:this.toggleNavBar},o.a.createElement("div",{className:"icon-bar"}),o.a.createElement("div",{className:"icon-bar"}),o.a.createElement("div",{className:"icon-bar"})),o.a.createElement("h3",null,"Google Maps with\xa0",o.a.createElement("a",{href:"https://foursquare.com/developers/apps"},"Foursquare")),o.a.createElement("h3",null,e)),o.a.createElement("div",{id:"container"},o.a.createElement("div",{className:"side"},o.a.createElement(b,{infoWindow:this.state.info,openInfo:this.info,listedMarker:this.state.listedMarkers})),o.a.createElement("div",{id:"map"},o.a.createElement(w,{markers:this.state.venues.location}))))}}]),t}(a.Component),y=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function E(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(o.a.createElement(k,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/fend-neigh-app",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/fend-neigh-app","/service-worker.js");y?(function(e,t){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):E(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):E(t,e)})}}()}},[[19,2,1]]]);
//# sourceMappingURL=main.1eff5c60.chunk.js.map