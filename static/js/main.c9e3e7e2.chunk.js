(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,n){e.exports=n(45)},22:function(e,t,n){},24:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(15),r=n.n(i),s=(n(22),n(3)),c=n(4),l=n(6),u=n(5),d=n(7),p=n(2),m=(n(24),n(16)),h=n.n(m),f=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{id:"map-container"},o.a.createElement("div",{id:"map",role:"application"}))}}]),t}(a.Component),v=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).searchVenue=function(t){var n=t.target.value.toLowerCase(),a=e.props.listedMarker,o=[];a.forEach(function(e){e.title.toLowerCase().indexOf(n.toLowerCase())>=0?(e.setVisible(!0),o.push(e)):e.setVisible(!1)}),e.setState({markers:o})},e.state={info:"",markers:[],query:""},e.refreshList=e.refreshList.bind(Object(p.a)(Object(p.a)(e))),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.refreshList()}},{key:"refreshList",value:function(){this.setState({markers:this.props.listedMarker})}},{key:"openMarker",value:function(e){this.props.openInfo(e)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"app"},o.a.createElement("div",{className:"search"},o.a.createElement("div",{className:"form",role:"form"},o.a.createElement("label",{htmlFor:"search"},"Search:"),o.a.createElement("input",{id:"search",type:"text","aria-label":"search",placeholder:"Search...",className:"input",role:"search",onChange:this.searchVenue}),o.a.createElement("label",{htmlFor:"search"})),o.a.createElement("ul",null,this.state.markers&&this.state.markers.length&&this.state.markers.map(function(t,n){return o.a.createElement("li",{key:n},o.a.createElement("a",{href:e.props.infowindow,onKeyPress:e.props.infowindow,onClick:e.props.infowindow,tabIndex:"0",role:"button"},t.title))}))))}}]),t}(a.Component);var g=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).renderMap=function(){!function(e){var t=window.document.getElementsByTagName("script")[0],n=window.document.createElement("script");n.src=e,n.async=!0,n.onerror=function(){document.write("Google Maps can't be loaded. Please reload the page, and if that doesn't work reload the page. Otherwise reload page.")},t.parentNode.insertBefore(n,t)}("https://maps.googleapis.com/maps/api/js?key=AIzaSyAdlFJbHfXSdxy03hESWwqCu5z5xzEfCTw&callback=initMap"),window.initMap=n.initMap},n.getVenues=function(){var e={client_id:n.state.client_id,client_secret:n.state.client_secret,query:n.state.querySelector,near:"Albuquerque",v:"20180903"};h.a.get("https://api.foursquare.com/v2/venues/explore?"+new URLSearchParams(e)).then(function(e){n.setState({venues:e.data.response.groups[0].items},n.renderMap())}).catch(function(e){window.alert("".concat(e,", can't connect to foursquare"))})},n.pause=function(e,t){setTimeout(function(){e.target.style.color=t},1500)},n.onclickLocation=function(){var e=Object(p.a)(Object(p.a)(n));document.querySelector(".search").addEventListener("click",function(t){for(var n=0;n<e.state.listedMarkers.length;n++)e.state.listedMarkers[n].title.toLowerCase()===t.target.innerText.toLowerCase()&&function(){var a={lat:e.state.venues[n].venue.location.lat,lng:e.state.venues[n].venue.location.lng};e.setState({center:a});var o=new window.google.maps.LatLng(a);e.state.map.setCenter(o);var i=e.state.venues[n].venue.location.address+", \n "+e.state.venues[n].venue.name;e.state.info.setContent(i),e.state.info.open(e.state.map,e.state.listedMarkers[n]);var r=t.target.style.color;t.target.style.color="aliceBlue",setTimeout(function(){t.target.style.color=r},1500);var s=e.state.listedMarkers[n];s.setAnimation(window.google.maps.Animation.BOUNCE),setTimeout(function(){s.setAnimation(null)},1500)}()})},n.toggleNavBar=function(){var e=document.querySelector(".side"),t=document.querySelector("#map");"none"===e.style.display?e.style.display="block":(e.style.display="none",t.style.width="100%")},n.state={center:{lat:35.0844,lng:-106.6504},zoom:13,map:"",info:"",venues:[],listedMarkers:[],highlightedIcon:null,querySelector:"food",client_id:"YCMGPBOPZCPOG4QYVXZ4ETGY5TLVNO34BGYAZ1NNKA3T44KS",client_secret:"EKIC4ZUG3DJJGATRLZA2WO1W3X5L204BHM0XG2RE5IGP0GK5"},n.initMap=n.initMap.bind(Object(p.a)(Object(p.a)(n))),n.onclickLocation=n.onclickLocation.bind(Object(p.a)(Object(p.a)(n))),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"gm_authFailure",value:function(){window.alert("Google Maps error!")}},{key:"componentDidMount",value:function(){window.gm_authFailure=this.gm_authFailure,this.getVenues(),this.onclickLocation()}},{key:"initMap",value:function(){var e,t=this;e=new window.google.maps.Map(document.getElementById("map"),{zoom:this.state.zoom,center:this.state.center});var n=new window.google.maps.InfoWindow({});this.setState({map:e,info:n}),this.state.venues.forEach(function(a){var o="".concat(a.venue.name," , ").concat(a.venue.location.address),i={lat:a.venue.location.lat,lng:a.venue.location.lng},r=new window.google.maps.Marker({position:i,map:e,title:a.venue.name,icon:"https://maps.google.com/mapfiles/kml/shapes/dining.png"});r.addListener("click",function(){r.setAnimation(window.google.maps.Animation.BOUNCE,1e3),setTimeout(function(){r.setAnimation(null)},1500),n.setContent(o),n.open(e,r);var t=new window.google.maps.LatLng(i);e.setCenter(t)});var s=t.state.listedMarkers;s.includes(r)||s.push(r),t.setState({listedMarkers:s})})}},{key:"render",value:function(){var e=". You are searching for  "+this.state.querySelector+" venues";return o.a.createElement("div",{className:"app"},o.a.createElement("header",null,o.a.createElement("button",{"aria-label":"hide-sidebar",type:"button",className:"navbar-toggle collapsed","data-toggle":"collapse",onClick:this.toggleNavBar},o.a.createElement("div",{className:"icon-bar"}),o.a.createElement("div",{className:"icon-bar"}),o.a.createElement("div",{className:"icon-bar"})),o.a.createElement("h3",null,"Google Maps with\xa0",o.a.createElement("a",{href:"https://foursquare.com/developers/apps"},"Foursquare")),o.a.createElement("h3",null,e)),o.a.createElement("div",{id:"container"},o.a.createElement("div",{className:"side"},o.a.createElement(v,{infoWindow:this.state.info,openInfo:this.info,listedMarker:this.state.listedMarkers})),o.a.createElement("div",{id:"map"},o.a.createElement(f,{markers:this.state.venues.location}))))}}]),t}(a.Component),w=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function k(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available; please refresh."),t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(o.a.createElement(g,null),document.getElementById("root")),function(e){if("production"==="serviceWorker"in navigator){if(new URL("/fend-neigh-app",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/fend-neigh-app","/service-worker.js");w?(function(e,t){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):k(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):k(t,e)})}}()}},[[17,2,1]]]);
//# sourceMappingURL=main.c9e3e7e2.chunk.js.map